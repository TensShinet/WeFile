# 一些问题





## 0X00 问题列表



### 如果多个用户上传同一个文件怎么办



大致流程如下：



+ 用户拿到上传地址
+ 用户开始上传文件/用户尝试快速上传（这里做一次文件 hash 查找，如果不存在就进行下一步）
+ 如果在文件表里面，插入用户文件表
+ 如果不在文件表里，写入用户文件表，写入文件表（可能报错，因为可能有一个用户上传了成功了，唯一索引 hash 报错）



可以使用 gorm FirstOrCreate 解决

